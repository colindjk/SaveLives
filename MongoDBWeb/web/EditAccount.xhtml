<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">


    <h:head>
        <title>Edit Your Profile</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <!-- <h:outputStylesheet library="css" name="siteStyles.css" /> -->
        <link rel="stylesheet" type="text/css" href="resources/css/siteStyles.css"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css" />
    </h:head>

    <h:body>
        <div align="center" style="width:50%; margin:0 auto;">



            <h:outputLabel id="form-error-message" class="errorMessages" value="#{userController.editAccountMessage}"/>
            <p:growl id="growl" life="5000" />
            <h:form id="AccountEditForm">

                <h2>Edit Your Account</h2>

                <p:panelGrid columns="2" columnClasses="accountColumn1, accountColumn2">
                    
                    <h:outputText value="Username: " />
                    <h:outputText value="#{userController.currentUser.username}" />

                    <p:outputLabel value="First Name: " for="firstName" />
                    <p:inputText id="firstName" value="#{userController.currentUser.firstName}" required="true" styleClass="accountInputTextField"
                                 requiredMessage="Your First Name is Required to Edit Account!" label="First Name">
                        <f:validateLength minimum="2" />
                    </p:inputText>   

                    <p:outputLabel value="Middle Name: " for="middleName" />
                    <p:inputText id="middleName" value="#{userController.currentUser.middleName}"
                                 required="false" styleClass="accountInputTextField" label="Middle Name">
                    </p:inputText>

                    <p:outputLabel value="Last Name: " for="lastName" />
                    <p:inputText id="lastName" value="#{userController.currentUser.lastName}" required="true" styleClass="accountInputTextField"
                                 requiredMessage="Your Last Name is Required to Edit Account!" label="Last Name">
                        <f:validateLength minimum="2" />
                    </p:inputText>

                    <p:outputLabel value="Address Line 1: " for="address1" />
                    <p:inputText id="address1" value="#{userController.currentUser.address1}" required="true" styleClass="accountInputTextField"
                                 requiredMessage="Your Address is Required to Edit Account!" label="Address Line 1">
                        <f:validateLength minimum="2" />
                    </p:inputText>

                    <p:outputLabel value="Address Line 2: " for="address2" />
                    <p:inputText id="address2" value="#{userController.currentUser.address2}" styleClass="accountInputTextField" label="Address Line 2">
                    </p:inputText>

                    <p:outputLabel value="City: " for="city" />
                    <p:inputText id="city" value="#{userController.currentUser.city}" required="true" styleClass="accountInputTextField"
                                 requiredMessage="Your City is Required to Edit Account!" label="City">
                        <f:validateLength minimum="2" />
                    </p:inputText>

                    <p:outputLabel value="State: " for="state" />
                    <h:selectOneMenu id="state" value="#{userController.currentUser.state}" required="true" 
                                     requiredMessage="Your State is Required to Edit Account!">
                        <f:selectItems value="#{userController.listOfStates}" var="state"
                                       itemLabel="#{state}" itemValue="#{state}" />
                    </h:selectOneMenu>

                    <p:outputLabel value="Zipcode: " for="zipcode" />
                    <p:inputText id="zipcode" value="#{userController.currentUser.zipCode}" required="true" styleClass="accountInputTextField"
                                 requiredMessage="Your Zipcode is Required to Edit Account!" label="Zip Code" >
                        <f:validateLength minimum="5" />
                    </p:inputText>

                    <p:outputLabel value="Email: " for="email" />
                    <p:inputText id="email" value="#{userController.currentUser.email}" required="true" styleClass="accountInputTextField"
                                 requiredMessage="Your Email is Required to Edit Account!" label="Email">
                        <f:validateLength minimum="2" />
                    </p:inputText>

                    
                </p:panelGrid>
                <br />

                <p:commandButton id="Submit" value="Submit" action="#{userController.editAccount()}" 
                                 styleClass="commandButton" ajax="false" icon="ui-icon-extlink" />

                <p:button outcome="index" value="Cancel" icon="ui-icon-cancel" styleClass="commandButton" />

            </h:form>
        </div>
    </h:body>
</html>
